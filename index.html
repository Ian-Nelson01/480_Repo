<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>STOCKS, HOMEPAGE</title>
    <link rel="stylesheet" href="./home-view.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=rocket_launch" />
  </head>

  <header>
    <h2>Nathan's Stocks</h2>
    <hr width="100%" size="2" color="#0196b1" noshade />
  </header>

  <body>
    <div class="SearchDiv">
      <input
        class="search_field"
        type="text"
        placeholder="Search.."
        name="search"
      />
      <button onclick="toggleDropdown()" class="submit_button" type="submit">
        
        <i class="fa fa-search"></i>
      </button>
    </div>
    
    <!-- spot where dropdown drops down -->
    <div id="myDropdown" class="dropdown-content">
      <div id="myResult" class="search-suggest">
        <span id="rocket" class="material-symbols-outlined">
          rocket_launch
        </span>

        <div class = "suggest-symbol">

          DGI
        </div>
        <div class = "stonk">
          75.59 +0.82(+1.19%)
        </div>

      </div>

    </div>
    
    
    <form action="details-view.html">
        <input type="submit" value="Go to Another Page">
    </form>
    <div class="mainBlock">

      <div id="container"  class="list js-list">

        <!-- Stock<!--  --> -->
        <div class="list__item is-idle js-item">

          <div class = "symbol">

            DGI   
          </div>
          <div class = "stonk">
            75.59 +0.82(+1.19%)
          </div>
          <script
            type="text/javascript"
            src="https://www.gstatic.com/charts/loader.js"
          ></script>
          <div
            class="chart"
            id="chart_div2"
            style="width: 25%; height: 50px"
          ></div>
          <div class="drag-handle js-drag-handle"></div>
        </div>
        <div class="list__item is-idle js-item">
          <div class="symbol">ABSS</div>
          <div class="stonk">24.92 +0.72(+2.33%)</div>
          <script
            type="text/javascript"
            src="https://www.gstatic.com/charts/loader.js"
          ></script>
          <div
            class="chart"
            id="chart_div3"
            style="width: 25%; height: 50px"
          ></div>
          <div class="drag-handle js-drag-handle"></div>
        </div>
        <div class="list__item is-idle js-item">
          <div class="symbol">ABSE</div>
          <div class="stonk">24.92 +0.72(+2.33%)</div>
          <script
            type="text/javascript"
            src="https://www.gstatic.com/charts/loader.js"
          ></script>
          <div
            class="chart"
            id="chart_div5"
            style="width: 25%; height: 50px"
          ></div>
          <div class="drag-handle js-drag-handle"></div>

        </div>
      </div>
    </div>
    <div id = "growBox"class="growBox">
      <script src="./home-view.js"></script>

      <button id="removeElementBtn">Remove Element</button>
      <button id="addElementBtn">Add Element</button>

      <!-- I'm testing things here --Connor  -->
      <script type="module" defer>
       import {permissions_test } from "./modules/local-store.js"
       import {fillAllRows, updateStonkBySymbol} from "./modules/home_control.js"
       import {query_realtime,
               query_intraday
       } from "./modules/interface.js"

       permissions_test()

       const testData = [
         { symbol: "DGI", stonk: "05.59 +0.82(+1.19%)" },
         { symbol: "Stk2", stonk: "04.92 +0.72(+2.33%)" },
         { symbol: "Stk3", stonk: "04.92 +0.72(+2.33%)" },
         { symbol: "Stk4", stonk: "011.02 -1.50(-0.71%)" }, // Example new data
       ];

       fillAllRows(testData)

       updateStonkBySymbol("DGI", "no money");

       //var stocks = ["DHC","DFS", "CBLL"]
       //query_realtime(stocks)

       query_intraday("AAPL", 2)

      </script>
  </body>
</html>
